<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div style="margin-bottom: 24px">
    <h2 style="font-size: 1.25rem; margin: 0">{{ patient() ? 'Editar Paciente' : 'Nuevo Paciente' }}</h2>
    <p class="muted" style="margin: 4px 0 0 0">Complete la información a continuación</p>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px">
    <div class="form-row">
      <label for="firstName">Nombre</label>
      <input id="firstName" type="text" formControlName="firstName" placeholder="Juan" required />
    </div>

    <div class="form-row">
      <label for="lastName">Apellido</label>
      <input id="lastName" type="text" formControlName="lastName" placeholder="Pérez" required />
    </div>
  </div>

  <div class="form-row">
    <label for="email">Dirección de Correo Electrónico</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      placeholder="juan@example.com"
      required
    />
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px">
    <div class="form-row">
      <label for="phone">Número de Teléfono</label>
      <input id="phone" type="tel" formControlName="phone" placeholder="(555) 000-0000" />
    </div>
    <div class="form-row">
      <label for="dateOfBirth">Fecha de Nacimiento</label>
      <input id="dateOfBirth" type="date" formControlName="dateOfBirth" required />
    </div>
  </div>

  <div class="form-row">
    <label for="address">Dirección Física</label>
    <textarea
      id="address"
      formControlName="address"
      rows="3"
      placeholder="Calle Principal 123, Ciudad, País"
    ></textarea>
  </div>

  <div
    style="
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 24px;
      padding-top: 20px;
      border-top: 1px solid #f1f5f9;
    "
  >
    <button type="button" class="btn" (click)="onCancel()">
      <app-ui-icon name="X" size="14" class="mr-1"></app-ui-icon> Cancelar
    </button>
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="form.invalid || loading()"
      style="min-width: 120px"
    >
      <app-ui-icon name="Save" size="14" class="mr-1"></app-ui-icon>
      {{ loading() ? 'Guardando...' : patient() ? 'Actualizar Paciente' : 'Crear Paciente' }}
    </button>
  </div>
</form>
